# AkShare MCP æœåŠ¡å™¨

åŸºäº AkShare åº“çš„é‡‘èæ•°æ® MCP (Model Context Protocol) æœåŠ¡å™¨ï¼Œæä¾›å…¨é¢çš„è‚¡ç¥¨ã€åŸºé‡‘ã€æœŸè´§ç­‰é‡‘èæ•°æ®æŸ¥è¯¢åŠŸèƒ½ã€‚

## åŠŸèƒ½ç‰¹æ€§

### ğŸ“ˆ è‚¡ç¥¨å¸‚åœºæ•°æ®
- **Aè‚¡å®æ—¶è¡Œæƒ…** - æ²ªæ·±äº¬Aè‚¡å®æ—¶è¡Œæƒ…æ•°æ®
- **å†å²è¡Œæƒ…æ•°æ®** - æ”¯æŒæ—¥çº¿ã€å‘¨çº¿ã€æœˆçº¿ï¼Œå¯å¤æƒ
- **ä¸ªè‚¡ä¿¡æ¯æŸ¥è¯¢** - åŸºæœ¬é¢ä¿¡æ¯ã€è´¢åŠ¡æ•°æ®
- **åˆ†æ—¶æ•°æ®** - åˆ†é’Ÿçº§Kçº¿æ•°æ®
- **æ¿å—æ•°æ®** - æ–°è‚¡ã€é£é™©è­¦ç¤ºæ¿ç­‰

### ğŸŒ å¤šå¸‚åœºæ”¯æŒ
- **Aè‚¡å¸‚åœº** - æ²ªæ·±äº¬å…¨å¸‚åœºè¦†ç›–
- **æ¸¯è‚¡å¸‚åœº** - æ¸¯è‚¡æ•°æ®æ”¯æŒ
- **ç¾è‚¡å¸‚åœº** - ç¾è‚¡å®æ—¶è¡Œæƒ…ï¼ˆæ–°æµªè´¢ç»ï¼‰

### ğŸ“Š æ•°æ®åˆ†æå·¥å…·
- **åŒè¡Œæ¯”è¾ƒ** - ä¼°å€¼ã€æˆé•¿æ€§ã€è´¢åŠ¡æŒ‡æ ‡å¯¹æ¯”
- **é£é™©è­¦ç¤º** - STè‚¡ç¥¨ã€é€€å¸‚è‚¡ç¥¨ä¿¡æ¯
- **è‚¡å¸‚æ—¥å†** - å…¬å¸åŠ¨æ€ã€é‡è¦äº‹ä»¶
- **æŠ€æœ¯æŒ‡æ ‡** - æ”¯æŒå„ç±»æŠ€æœ¯åˆ†ææŒ‡æ ‡

## å®‰è£…è®¾ç½®

### 1. ç¯å¢ƒè¦æ±‚
- Node.js >= 16
- Python >= 3.8
- akshare åº“

### 2. å®‰è£…ä¾èµ–

```bash
# å®‰è£… Node.js ä¾èµ–
npm install

# å®‰è£… Python akshare åº“
pip install akshare pandas
```

### 3. æ„å»ºé¡¹ç›®

```bash
npm run build
```

### 4. é…ç½® Claude Code

#### æ–¹æ³• 1ï¼šè‡ªåŠ¨é…ç½®ï¼ˆæ¨èï¼‰

é…ç½®æ–‡ä»¶å·²è‡ªåŠ¨åˆ›å»ºåœ¨ï¼š
- `.claude/claude_desktop_config.json`

é…ç½®å†…å®¹ï¼š
```json
{
  "mcpServers": {
    "akshare-mcp": {
      "command": "node",
      "args": ["dist/index.js"],
      "cwd": "/Users/taoqiupo/Desktop/my-project/marketMcp"
    }
  }
}
```

#### æ–¹æ³• 2ï¼šæ‰‹åŠ¨é…ç½®

1. æ‰“å¼€ Claude Code
2. è¿›å…¥è®¾ç½®ï¼š`Cmd + ,` (macOS) æˆ– `Ctrl + ,` (Windows/Linux)
3. æ‰¾åˆ° MCP æœåŠ¡å™¨è®¾ç½®
4. æ·»åŠ æ–°æœåŠ¡å™¨ï¼š
   - åç§°ï¼š`akshare-mcp`
   - å‘½ä»¤ï¼š`node`
   - å‚æ•°ï¼š`["dist/index.js"]`
   - å·¥ä½œç›®å½•ï¼š`/Users/taoqiupo/Desktop/my-project/marketMcp`

### 5. å¯åŠ¨æœåŠ¡

```bash
npm start
```

### 6. éªŒè¯é…ç½®

é‡å¯ Claude Code åï¼Œæ‚¨å°±å¯ä»¥ä½¿ç”¨ä»¥ä¸‹é‡‘èæ•°æ®å·¥å…·ï¼š
- Aè‚¡å®æ—¶è¡Œæƒ…æŸ¥è¯¢
- å†å²Kçº¿æ•°æ®ï¼ˆæ”¯æŒå¤æƒï¼‰
- ä¸ªè‚¡åŸºæœ¬ä¿¡æ¯æŸ¥è¯¢
- æ¸¯è‚¡ã€ç¾è‚¡æ•°æ®
- åŒè¡Œä¼°å€¼æ¯”è¾ƒåˆ†æ

## å¯ç”¨å·¥å…·

### å¸‚åœºè¡Œæƒ…ç±»

| å·¥å…·å | æè¿° | å‚æ•° |
|--------|------|------|
| `stock_sh_a_spot_em` | æ²ªAè‚¡å®æ—¶è¡Œæƒ… | `limit` (å¯é€‰) |
| `stock_sz_a_spot_em` | æ·±Aè‚¡å®æ—¶è¡Œæƒ… | `limit` (å¯é€‰) |

### å®æ—¶æŠ¥ä»·ç±»ï¼ˆæ–°å¢ï¼‰

| å·¥å…·å | æè¿° | å‚æ•° |
|--------|------|------|
| `stock_individual_spot_xq` | ä¸ªè‚¡å®æ—¶è¡Œæƒ…æ•°æ®ï¼ˆé›ªçƒï¼‰ | `symbol` (å¿…éœ€) - è‚¡ç¥¨ä»£ç  |
| `realtime_quote` | å®æ—¶è¡Œæƒ…æ•°æ® | `symbol` (å¿…éœ€) - æ”¯æŒå¤šåªè‚¡ç¥¨ï¼Œé€—å·åˆ†éš” |
| `stock_global_realtime` | å…¨çƒè‚¡å¸‚å®æ—¶è¡Œæƒ…æ•°æ® | `region` (å¯é€‰) - åœ°åŒºï¼šä¸­å›½/é¦™æ¸¯/ç¾å›½/æ¬§æ´²/äºšæ´²/å…¨çƒ |
| `stock_hk_spot_em` | æ¸¯è‚¡å®æ—¶è¡Œæƒ…æ•°æ® | `limit` (å¯é€‰) - æ•°æ®æ¡æ•°é™åˆ¶ |
| `stock_us_spot` | ç¾è‚¡å®æ—¶è¡Œæƒ…æ•°æ®ï¼ˆæ–°æµªï¼‰ | `symbol` (å¯é€‰) - æ”¯æŒå¤šåªè‚¡ç¥¨ï¼Œé€—å·åˆ†éš” |

### å†å²æ•°æ®ç±»

| å·¥å…·å | æè¿° | å‚æ•° |
|--------|------|------|
| `stock_zh_a_hist` | Aè‚¡å†å²è¡Œæƒ… | `symbol` (å¿…éœ€), `period`, `start_date`, `end_date`, `adjust` |
| `stock_zh_a_minute` | åˆ†æ—¶æ•°æ® | `symbol` (å¿…éœ€), `period`, `adjust` |

### ä¸ªè‚¡ä¿¡æ¯ç±»

| å·¥å…·å | æè¿° | å‚æ•° |
|--------|------|------|
| `stock_individual_basic_info_xq` | ä¸ªè‚¡åŸºæœ¬ä¿¡æ¯ | `symbol` (å¿…éœ€) |

### å¸‚åœºåˆ†æç±»

| å·¥å…·å | æè¿° | å‚æ•° |
|--------|------|------|
| `stock_gsrl_gsdt_em` | è‚¡å¸‚æ—¥å†å…¬å¸åŠ¨æ€ | `date` (å¿…éœ€) |

### ç‰¹æ®Šæ¿å—ç±»

| å·¥å…·å | æè¿° | å‚æ•° |
|--------|------|------|
| `stock_zh_a_new_em` | æ–°è‚¡æ•°æ® | `limit` (å¯é€‰) |
| `stock_zh_a_st_em` | é£é™©è­¦ç¤ºæ¿æ•°æ® | `limit` (å¯é€‰) |

## ä½¿ç”¨ç¤ºä¾‹

### 1. è·å–Aè‚¡å®æ—¶è¡Œæƒ…

```json
{
  "tool": "stock_sh_a_spot_em",
  "arguments": {
    "limit": 10
  }
}
```

### 2. æŸ¥è¯¢ä¸ªè‚¡å†å²è¡Œæƒ…

```json
{
  "tool": "stock_zh_a_hist",
  "arguments": {
    "symbol": "600246",
    "period": "daily",
    "start_date": "20241201",
    "end_date": "20241205",
    "adjust": "qfq"
  }
}
```

### 3. è·å–ä¸ªè‚¡åŸºæœ¬ä¿¡æ¯

```json
{
  "tool": "stock_individual_basic_info_xq",
  "arguments": {
    "symbol": "600246"
  }
}
```

### 4. è·å–ä¸ªè‚¡å®æ—¶è¡Œæƒ…ï¼ˆé›ªçƒï¼‰

```json
{
  "tool": "stock_individual_spot_xq",
  "arguments": {
    "symbol": "600246"
  }
}
```

### 5. è·å–å¤šåªè‚¡ç¥¨å®æ—¶è¡Œæƒ…

```json
{
  "tool": "realtime_quote",
  "arguments": {
    "symbol": "600246,600000,000002"
  }
}
```

### 7. è·å–å…¨çƒè‚¡å¸‚å®æ—¶è¡Œæƒ…

```json
{
  "tool": "stock_global_realtime",
  "arguments": {
    "region": "ä¸­å›½"
  }
}
```

### 8. è·å–æ¸¯è‚¡å®æ—¶è¡Œæƒ…

```json
{
  "tool": "stock_hk_spot_em",
  "arguments": {
    "limit": 50
  }
}
```

### 9. è·å–ç¾è‚¡å®æ—¶è¡Œæƒ…ï¼ˆæ–°æµªï¼‰

```json
{
  "tool": "stock_us_spot",
  "arguments": {
    "symbol": "AAPL,MSFT,GOOGL"
  }
}
```


## æµ‹è¯•

è¿è¡Œæµ‹è¯•è„šæœ¬éªŒè¯æœåŠ¡åŠŸèƒ½ï¼š

```bash
npm test
```

æˆ–è€…ç›´æ¥è¿è¡Œï¼š

```bash
node test/mcp-test.js
```

## æ•°æ®æº

æœ¬æœåŠ¡å™¨åŸºäº [AkShare](https://github.com/akfamily/akshare) åº“ï¼Œæ•°æ®æ¥æºäºï¼š
- ä¸œæ–¹è´¢å¯Œç½‘
- ä¸Šæµ·è¯åˆ¸äº¤æ˜“æ‰€
- æ·±åœ³è¯åˆ¸äº¤æ˜“æ‰€
- æ–°æµªè´¢ç»
- è…¾è®¯è´¢ç»
- é›ªçƒè´¢ç»

## æ³¨æ„äº‹é¡¹

1. **æ•°æ®å»¶è¿Ÿ**ï¼šå®æ—¶è¡Œæƒ…æ•°æ®å¯èƒ½æœ‰15åˆ†é’Ÿå»¶è¿Ÿ
2. **è®¿é—®é¢‘ç‡**ï¼šè¯·åˆç†æ§åˆ¶APIè°ƒç”¨é¢‘ç‡ï¼Œé¿å…è¢«é™åˆ¶
3. **å…è´£å£°æ˜**ï¼šæœ¬æœåŠ¡ä»…æä¾›æ•°æ®å±•ç¤ºï¼Œä¸æ„æˆæŠ•èµ„å»ºè®®
4. **æ•°æ®å‡†ç¡®æ€§**ï¼šè¯·ä»¥å®˜æ–¹æ•°æ®ä¸ºå‡†ï¼Œæœ¬æ•°æ®ä»…ä¾›å‚è€ƒ

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **akshareåº“æœªå®‰è£…**
```bash
pip install akshare pandas
```

2. **Pythonç‰ˆæœ¬ä¸å…¼å®¹**
ç¡®ä¿ä½¿ç”¨ Python 3.8+

3. **æƒé™é—®é¢˜**
ç¡®ä¿è„šæœ¬æœ‰æ‰§è¡Œæƒé™

4. **ç½‘ç»œè¿æ¥é—®é¢˜**
æ£€æŸ¥ç½‘ç»œè¿æ¥ï¼ŒæŸäº›æ•°æ®æºå¯èƒ½éœ€è¦ç‰¹æ®Šç½‘ç»œç¯å¢ƒ

## å¼€å‘

### é¡¹ç›®ç»“æ„
```
â”œâ”€â”€ src/
â”‚   â””â”€â”€ index.ts          # MCPæœåŠ¡å™¨ä¸»æ–‡ä»¶
â”œâ”€â”€ test/
â”‚   â””â”€â”€ mcp-test.js       # æµ‹è¯•è„šæœ¬
â”œâ”€â”€ dist/                 # ç¼–è¯‘è¾“å‡ºç›®å½•
â”œâ”€â”€ akshare_service.py    # PythonæœåŠ¡è„šæœ¬
â”œâ”€â”€ package.json          # Node.jsé¡¹ç›®é…ç½®
â”œâ”€â”€ tsconfig.json         # TypeScripté…ç½®
â””â”€â”€ README.md            # é¡¹ç›®æ–‡æ¡£
```

### æ·»åŠ æ–°å·¥å…·

1. åœ¨ `src/index.ts` ä¸­çš„ `getToolDefinitions` æ–¹æ³•ä¸­æ·»åŠ å·¥å…·å®šä¹‰
2. PythonæœåŠ¡ä¼šè‡ªåŠ¨è°ƒç”¨å¯¹åº”çš„akshareå‡½æ•°
3. åœ¨ `test/mcp-test.js` ä¸­æ·»åŠ ç›¸åº”çš„æµ‹è¯•ç”¨ä¾‹

## è®¸å¯è¯

MIT License

## è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## æ›´æ–°æ—¥å¿—

### v1.0.0
- åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- æ”¯æŒåŸºç¡€çš„è‚¡ç¥¨æ•°æ®æŸ¥è¯¢åŠŸèƒ½
- åŒ…å«å®Œæ•´çš„æµ‹è¯•å¥—ä»¶